<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Expense Manager</title>
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/styles.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom JavaScript -->
    <script src="/static/js/script.js" defer></script>
</head>
<body class="container">
    <h2 class="text-center mt-4">ğŸ’° Personal Expense Manager</h2>

    <!-- Login & Signup Section -->
    <div id="auth-section">
        <!-- Login Form -->
        <div class="card mt-4 p-3">
            <h3 class="text-center">Login</h3>
            <form id="loginForm">
                <input type="email" id="email1" class="form-control mb-2" placeholder="Email" required>
                <input type="password" id="password1" class="form-control mb-2" placeholder="Password" required>
                <button type="submit" class="btn btn-primary w-100">Login</button>
            </form>
        </div>

        <!-- Signup Form -->
        <div class="card mt-4 p-3">
            <h3 class="text-center">Signup</h3>
            <form id="signupForm">
                <input type="email" id="email2" class="form-control mb-2" placeholder="Email" required>
                <input type="password" id="password2" class="form-control mb-2" placeholder="Password" required>
                <button type="submit" class="btn btn-success w-100">Signup</button>
            </form>
        </div>
    </div>

    <!-- Dashboard Section (Hidden Initially) -->
    <div id="dashboard" style="display: none;">
        <h3 class="text-center mt-4">ğŸ“Š Dashboard</h3>
        <button id="logoutBtn" class="btn btn-danger mt-2">Logout</button>

        <!-- Add Expense Form -->
        <div class="card mt-4 p-3">
            <h4>Add Expense</h4>
            <input type="text" id="category" class="form-control mb-2" placeholder="Category" required>
            <input type="number" id="amount" class="form-control mb-2" placeholder="Amount" required>
            <input type="date" id="date" class="form-control mb-2" required>
            <button onclick="addExpense()" class="btn btn-primary w-100">Add Expense</button>
        </div>

        <!-- Upload PhonePe Statement Form -->
        <div class="card mt-4 p-3">
            <h4>ğŸ“¥ Upload PhonePe Statement</h4>
            <input type="file" id="phonepeFile" class="form-control mb-2" accept="application/pdf" required>
            <button onclick="uploadPhonePeStatement()" class="btn btn-info w-100">Upload PDF</button>
        </div>

        <!-- Expense List -->
        <h3>Expenses</h3>
        <ul id="expense-list" class="list-group mt-4"></ul>

        <!-- Savings -->
        <h4 class="mt-4">ğŸ’° Savings: <span id="savings">$0</span></h4>

        <!-- Daily Expenses Table -->
        <div class="mt-4">
            <h5>ğŸ“† Daily Expenses</h5>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody id="daily-expenses"></tbody>
            </table>
        </div>

        <!-- Monthly Expenditure Table -->
        <div class="mt-4">
            <h5>ğŸ—“ï¸ Monthly Expenditure</h5>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Month</th>
                        <th>Total Expense</th>
                    </tr>
                </thead>
                <tbody id="monthly-expenses"></tbody>
            </table>
        </div>

        <!-- Charts Section -->
        <div class="mt-4">
            <h5>ğŸ“Š Expense Breakdown</h5>
            <canvas id="expenseChart"></canvas>
        </div>

        <div class="mt-4">
            <h5>ğŸ“ˆ Savings Over Time</h5>
            <canvas id="savingsChart"></canvas>
        </div>
    </div>
</body>
</html>